<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>年約月繳方案</title>
  <style>
    body {
      margin: 0;
      font-family: 'Noto Sans TC', 'Microsoft JhengHei', sans-serif;
    }
    .plan-container {
      max-width: 900px;
      margin: 54px auto 154px auto; /* 上下都加大，防止裁切 */
      background: linear-gradient(135deg, #14003B 0%, #1A0048 100%);
      border-radius: 24px;
      /*box-shadow: 8px 12px 24px #0008;*/
      padding: 30px 40px 10px 40px; /* 下方空間加大 */
      position: relative;
      overflow: visible;
    }
    .plan-header {
      position: absolute;
      left: 50%;
      top: -32px;
      transform: translateX(-50%);
      background: #000;
      border-radius: 32px;
      padding: 10px 32px 10px 24px;
      color: #ff4fa0;
      font-size: 1.6rem;
      font-weight: bold;
      display: flex;
      align-items: center;
      box-shadow: 0 4px 18px #0005;
      z-index: 2;
      width: max-content;
      white-space: nowrap; /* 強制不換行 */
    }
    .plan-header .cart {
      font-size: 1.7rem;
      margin-right: 10px;
    }
    .plan-content {
      display: flex;
      justify-content: space-between;
      align-items: stretch;
      gap: 0;
    }
    .plan-option {
      flex: 1 1 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px 0;
      color: #fff;
    }
    .plan-option:not(:last-child) {
      border-right: 1.5px solid #8460b9;
    }
    .plan-title {
      font-size: 2.3rem;
      font-weight: bold;
      color: #ffe08a;
      letter-spacing: 2px;
      margin-bottom: 8px;
    }
    .plan-price {
      font-size: 2.2rem;
      font-weight: bold;
      margin-bottom: 4px;
    }
    .plan-price span {
      font-size: 1.2rem;
      color: #ff4fa0;
      margin-left: 2px;
    }
    .plan-original {
      font-size: 1.1rem;
      color: #fff;
      margin-top: 6px;
      font-weight: 500;
    }
    .plan-original del {
      color: #ff4fa0;
      text-decoration: line-through;
      font-weight: bold;
      margin: 0 2px;
    }
    .plan-btns {
      display: flex;
      flex-direction: column;
      gap: 18px;
      justify-content: center;
      align-items: center;
      margin-left: 30px;
    }
    .plan-btn {
      background: linear-gradient(90deg, #ff4fa0 35%, #ff6c4f 100%);
      color: #fff;
      border: none;
      border-radius: 32px;
      font-size: 1.15rem;
      font-weight: bold;
      padding: 16px 36px;
      cursor: pointer;
      box-shadow: 2px 6px 12px #0005;
      transition: background 0.2s, transform 0.1s;
      outline: none;
    }
    .plan-btn:hover {
      background: linear-gradient(90deg, #ff6c4f 35%, #ff4fa0 100%);
      transform: scale(1.04);
    }
    @media (max-width: 700px) {
      .plan-header {
        font-size: 1.2rem;
        padding: 7px 16px 7px 14px; /* 正確 padding */
        top: -22px;
        white-space: nowrap; /* 強制不換行 */
      }
      .plan-container {
        padding: 24px 12px 20px 12px; /* 下方空間再加大 */
        margin: 38px 20px 20px 20px !important; /* 上下空間加大，左右縮小 */
      }
      .plan-content {
        flex-direction: column;
        gap: 0;
      }
      .plan-option {
        border-right: none !important;
        border-bottom: none !important;
        padding: 18px 0;
      }
      .plan-btns {
        margin: 18px 0 0 0;
        flex-direction: column;
        gap: 12px;
        border: none !important;
        background: none !important;
      }
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@500;700&display=swap" rel="stylesheet">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-NCTT6HZ347"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-NCTT6HZ347');
    console.log('Loading GA');
  </script>
  <!-- Facebook Pixel Code Base -->
  <script>
  !function(f,b,e,v,n,t,s)
  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
  n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];
  s.parentNode.insertBefore(t,s)}(window, document,'script',
  'https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', '1264897994056000');
  // 發送一次基本的 PageView
  // fbq('track', 'PageView'); // 如果父頁面已觸發，這裡可以不用，避免重複計算
  </script>
  <noscript><img height="1" width="1" style="display:none"
  src="https://www.facebook.com/tr?id=1264897994056000&ev=PageView&noscript=1"
  /></noscript>
  <!-- End Facebook Pixel Code -->

  <!-- LINE Tag Base Code -->
  <script>
  (function(g,d,o){
    g._ltq=g._ltq||[];g._lt=g._lt||function(){g._ltq.push(arguments)};
    var h=location.protocol==='https:'?'https://d.line-scdn.net':'http://d.line-cdn.net';
    var s=d.createElement('script');s.async=1;
    s.src=o||h+'/n/line_tag/public/release/v1/lt.js';
    var t=d.getElementsByTagName('script')[0];t.parentNode.insertBefore(s,t);
      })(window, document);
  _lt('init', {
    customerType: 'lap',
    tagId: '389068e7-60d4-440e-995a-aa45c300315b'
  });
  // 發送一次基本的 pv
  _lt('send', 'pv', ['389068e7-60d4-440e-995a-aa45c300315b']);
  </script>
  <noscript>
    <img height="1" width="1" style="display:none"
         src="https://tr.line.me/tag.gif?c_t=lap&t_id=389068e7-60d4-440e-995a-aa45c300315b&e=pv&noscript=1" />
  </noscript>
  <!-- End LINE Tag Base Code -->
</head>
<body>
  <div class="plan-container">
    <div class="plan-header">
      <span class="cart">🛒</span>
      年約月繳方案
    </div>
    <div class="plan-content">
      <div class="plan-option">
        <div class="plan-title">單館</div>
        <div class="plan-price">$89<span>/月</span></div>
        <div class="plan-original">原價<del>$199</del>/月</div>
      </div>
      <div class="plan-option">
        <div class="plan-title">兩館</div>
        <div class="plan-price">$149<span>/月</span></div>
        <div class="plan-original">原價<del>$398</del>/月</div>
      </div>
      <div class="plan-btns">
        <!-- 
          修改重點：在 <a> 標籤上加上 onclick 事件
          當點擊「馬上訂閱 影劇館+」時，觸發 fireHamiVideoEvents 函數
        -->
        <a href="https://www.cht.com.tw/home/campaign/hamivideo/vod#tab_2" target="_blank" onclick="fireHamiVideoEvents()">
          <button class="plan-btn">馬上訂閱 影劇館<sup>+</sup> </button>
        </a>
        <a href="https://www.cht.com.tw/home/campaign/hamivideo/tv#tab_2" target="_blank"><button class="plan-btn">馬上訂閱 電視運動館</button></a>
      </div>
    </div>
  </div>
  <script>
    // 專門用來觸發「影劇館+」按鈕點擊事件的函數
    function fireHamiVideoEvents() {
      console.log('影劇館+ 按鈕點擊，觸發 GA4, FB, LINE 事件');
      
      // 觸發 GA4 事件
      if (typeof gtag === 'function') {
        console.log('影劇館+ 按鈕點擊，觸發 GA4事件');
        gtag('event', 'ev1111', {
          'event_category': 'HamiVideo_Subscription'
        });
         console.log('影劇館+ 按鈕點擊，觸發 GA4事件 done');
      }

      // 觸發 Facebook Pixel 的 ViewContent 事件
      if (typeof fbq === 'function') {
        fbq('track', 'ViewContent', {product_id:'2509double11btn04'});
      }

      // 觸發 LINE Tag 的 Conversion 事件
      if (typeof _lt === 'function') {
        _lt('send', 'cv', {
          type:'2509double11btn04'
        },['389068e7-60d4-440e-995a-aa45c300315b']);
      }
    }
  </script>
</body>

</html>
